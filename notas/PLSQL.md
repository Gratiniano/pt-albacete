## Referencias

### PL/SQL-JSON
* [Mapping of JSON Data To and From SQL Object Types in Oracle Database 19c](https://oracle-base.com/articles/19c/mapping-of-json-data-to-and-from-sql-object-types-19c)
* [JSON Developer's Guide Release 19](https://it.inf.unideb.hu/oracle/adjsn/index.html)

### PL/SQL Pipelined Functions
* [Pipelined Table Functions](https://oracle-base.com/articles/misc/pipelined-table-functions#pipelined_table_functions)






## IDENTITY COLUMNS

Añade una columna autoincremental a la tabla.
Cada tabla solo puede contener una columna IDENTITY.
Las columnas IDENTITY son, obligatoriamente de tipo NUMBER.

```html
GENERATED [ ALWAYS | BY DEFAULT [ ON NULL ] ]
AS IDENTITY [ ( identity_options ) ] 
```

a) **GENERATED ALWAYS**
- No permite definir el valor de la columna IDENTITY mediante INSERT ni UPDATE.


b) **GENERATED BY DEFAULT**
- Si no se indica el valor de la columna IDENTITY genera un nuevo número secuencial.

- Permite definir manualmente el valor de la columna INDENTITY mediante INSERT o UPDATE.

- El intento de almacenar explicitamente un NULL en la columna IDENTITY provoca un error.

- Para asegurar que la columna contiene valores únicos debe hacerse mediante mediante la declaración explicita de un CONSTRAINT (PK o UNIQUE).

- El valor del secuencial se gestiona internamente y **no conoce de los valores que se puedan haber almacenado manualmente**. 

- Si se genera un secuencial cuyo valor ya esté almacenado en la columna IDENTITY 

    - si no se ha definido un CONSTRAINT sobre la columna generará una clave duplicada.
    - si se ha definido un CONSTRAINT sobre la columna provocará un error e incrementará el contador interno.



c) **GENERATED BY DEFAULT ON NULL**
- Al igual que el caso anterior, pero cuando se proporciona un explicitamente NULL como valor de la columna IDENTITY,  en lugar de provocar un error,  generará un nuevo número secuencial.


d) **IDENTITY_OPTIONS**
- **START WITH** ***initial value*** indica el valor con el que se inicializará el secuencial.
- **INCRMENT BY** ***internal_value*** indicará el intervalo entre los secuenciales generados.
- **CACHE** define el número de secuenciasle *pre-generados* por Oracle para acelerar su uso.